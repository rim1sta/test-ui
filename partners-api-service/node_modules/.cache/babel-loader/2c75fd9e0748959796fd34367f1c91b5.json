{"ast":null,"code":"const API_URL = 'http://localhost:3000/partner';\nexport class ApiServiceImpl {\n  constructor() {}\n\n  getPartner(id) {\n    return fetch(`${API_URL}/${id}`, {\n      method: 'GET'\n    }).then(res => res.json()).then(res => {\n      console.log(res);\n      return res;\n    });\n  }\n\n  deletePartner(id) {\n    return fetch(`${API_URL}/${id}`, {\n      method: 'DELETE'\n    }).then(res => res.json()).then(res => {\n      console.log(res);\n      return res;\n    });\n  }\n\n  updatePartner(partner) {\n    const method = 'POST';\n    const headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    const body = JSON.stringify(partner);\n    return fetch(`${API_URL}/${partner.id}`, {\n      method,\n      headers,\n      body\n    }).then(res => res.json()).then(res => {\n      console.log(res);\n      return res;\n    });\n  }\n\n  createPartner(partner) {\n    const method = 'PUT';\n    const headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    const body = JSON.stringify(partner);\n    return fetch(`${API_URL}`, {\n      method,\n      headers,\n      body\n    }).then(res => res.json()).then(res => {\n      console.log(res);\n      return res;\n    });\n  }\n\n  getPartners(page, pageSize) {\n    return fetch(`${API_URL}s?page=${page}&pageSize=${pageSize}`, {\n      method: 'GET'\n    }).then(res => res.json()).then(res => {\n      console.log(res);\n      return res;\n    });\n  }\n\n}\nApiServiceImpl.instance = new ApiServiceImpl();\nexport const apiService = {};","map":{"version":3,"sources":["/Users/rim1sta/Desktop/react-api-1/src/api/api-service.ts"],"names":["API_URL","ApiServiceImpl","constructor","getPartner","id","fetch","method","then","res","json","console","log","deletePartner","updatePartner","partner","headers","Headers","append","body","JSON","stringify","createPartner","getPartners","page","pageSize","instance","apiService"],"mappings":"AAKA,MAAMA,OAAO,GAAG,+BAAhB;AAWA,OAAO,MAAMC,cAAN,CAA2C;AAEtCC,EAAAA,WAAR,GAAqB,CACpB;;AAIDC,EAAAA,UAAU,CAACC,EAAD,EAA8B;AACvC,WAAQC,KAAK,CAAE,GAAEL,OAAQ,IAAGI,EAAG,EAAlB,EAAqB;AAC/BE,MAAAA,MAAM,EAAE;AADuB,KAArB,CAAL,CAGRC,IAHQ,CAGHC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHJ,EAIRF,IAJQ,CAIHC,GAAG,IAAI;AACTE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,aAAOA,GAAP;AACH,KAPQ,CAAR;AAQA;;AAEDI,EAAAA,aAAa,CAACR,EAAD,EAA+B;AAC5C,WAAOC,KAAK,CAAE,GAAEL,OAAQ,IAAGI,EAAG,EAAlB,EAAqB;AAC7BE,MAAAA,MAAM,EAAE;AADqB,KAArB,CAAL,CAGNC,IAHM,CAGDC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHN,EAINF,IAJM,CAIDC,GAAG,IAAI;AACTE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,aAAOA,GAAP;AACH,KAPM,CAAP;AAQC;;AACDK,EAAAA,aAAa,CAACC,OAAD,EAAyC;AAClD,UAAMR,MAAM,GAAG,MAAf;AACA,UAAMS,OAAO,GAAG,IAAIC,OAAJ,EAAhB;AACAD,IAAAA,OAAO,CAACE,MAAR,CAAe,cAAf,EAA+B,kBAA/B;AACA,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAAb;AACA,WAAOT,KAAK,CAAE,GAAEL,OAAQ,IAAGc,OAAO,CAACV,EAAG,EAA1B,EAA6B;AAACE,MAAAA,MAAD;AAASS,MAAAA,OAAT;AAAkBG,MAAAA;AAAlB,KAA7B,CAAL,CACNX,IADM,CACDC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADN,EAENF,IAFM,CAEDC,GAAG,IAAI;AACTE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,aAAOA,GAAP;AACH,KALM,CAAP;AAMH;;AACDa,EAAAA,aAAa,CAACP,OAAD,EAAyC;AAClD,UAAMR,MAAM,GAAG,KAAf;AACA,UAAMS,OAAO,GAAG,IAAIC,OAAJ,EAAhB;AACAD,IAAAA,OAAO,CAACE,MAAR,CAAe,cAAf,EAA+B,kBAA/B;AACA,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAAb;AACA,WAAOT,KAAK,CAAE,GAAEL,OAAQ,EAAZ,EAAe;AAACM,MAAAA,MAAD;AAASS,MAAAA,OAAT;AAAkBG,MAAAA;AAAlB,KAAf,CAAL,CACNX,IADM,CACDC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADN,EAENF,IAFM,CAEDC,GAAG,IAAI;AACTE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,aAAOA,GAAP;AACH,KALM,CAAP;AAMH;;AACDc,EAAAA,WAAW,CAACC,IAAD,EAAeC,QAAf,EAAuD;AACtE,WAAOnB,KAAK,CAAE,GAAEL,OAAQ,UAASuB,IAAK,aAAYC,QAAS,EAA/C,EAAkD;AAC1DlB,MAAAA,MAAM,EAAE;AADkD,KAAlD,CAAL,CAGNC,IAHM,CAGDC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHN,EAINF,IAJM,CAIDC,GAAG,IAAI;AACTE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,aAAOA,GAAP;AACH,KAPM,CAAP;AAQK;;AA7D6C;AAArCP,c,CAKOwB,Q,GAAW,IAAIxB,cAAJ,E;AA2D/B,OAAO,MAAMyB,UAAsB,GAAG,EAA/B","sourcesContent":["\nimport { PartnersPage } from './domain/partners-page';\nimport { Partner } from \"./domain\";\n\n\nconst API_URL = 'http://localhost:3000/partner'; \n\n\nexport interface ApiService {\n    getPartner(id: string): Promise<Partner>;\n    deletePartner(id: string): Promise<boolean>; \n    updatePartner(partner: Partner): Promise<{id: string}>;\n    createPartner(partner: Partner): Promise<{id: string}>;\n    getPartners(page: number, pageSize: number): Promise<PartnersPage>;\n}\n\nexport class ApiServiceImpl implements ApiService {\n \n    private constructor(){\n    }\n\n    static readonly instance = new ApiServiceImpl();\n\n    getPartner(id: string): Promise<Partner>{\n     return  fetch(`${API_URL}/${id}`, {\n        method: 'GET'\n    })\n    .then(res => res.json())\n    .then(res => { \n        console.log(res);\n        return res as Partner;\n    })\n    }\n\n    deletePartner(id: string): Promise<boolean> {\n    return fetch(`${API_URL}/${id}`, {\n        method: 'DELETE'\n    })\n    .then(res => res.json())\n    .then(res => {\n        console.log(res);\n        return res as boolean; \n    })\n    }\n    updatePartner(partner: Partner): Promise<{id: string}>{\n        const method = 'POST';\n        const headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n        const body = JSON.stringify(partner);\n        return fetch(`${API_URL}/${partner.id}`, {method, headers, body})\n        .then(res => res.json())\n        .then(res => {\n            console.log(res);\n            return res; \n        })\n    }\n    createPartner(partner: Partner): Promise<{id: string}>{\n        const method = 'PUT';\n        const headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n        const body = JSON.stringify(partner);\n        return fetch(`${API_URL}`, {method, headers, body})\n        .then(res => res.json())\n        .then(res => {\n            console.log(res);\n            return res; \n        })\n    }\n    getPartners(page: number, pageSize: number): Promise<PartnersPage>{\nreturn fetch(`${API_URL}s?page=${page}&pageSize=${pageSize}`, {\n    method: 'GET'\n})\n.then(res => res.json())\n.then(res => {\n    console.log(res);\n    return res as PartnersPage;\n})\n    }\n}\n\nexport const apiService: ApiService = {\n\n}"]},"metadata":{},"sourceType":"module"}