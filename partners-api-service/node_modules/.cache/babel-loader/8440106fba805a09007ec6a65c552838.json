{"ast":null,"code":"import { partnerSlice } from './../slices/partner';\nimport { ApiServiceImpl } from './../../api/api-service';\nexport const updatePage = pageIndex => {\n  return dispatch => {\n    ApiServiceImpl.instance.getPartners(pageIndex, 5).then(res => {\n      dispatch(partnerSlice.actions.setPageData(res));\n      const newPageIndex = pageIndex >= res.pagesCount ? pageIndex - 1 : pageIndex;\n      dispatch(partnerSlice.actions.setPageIndex(newPageIndex));\n    });\n  };\n};\nexport const openPartnerForEdit = id => {\n  return dispatch => {\n    ApiServiceImpl.instance.getPartner(id).then(res => {\n      dispatch(partnerSlice.actions.setEditablePartner(res));\n    });\n  };\n};\nexport const partnerToDelete = partnerShortInfo => {\n  return dispatch => {\n    dispatch(partnerSlice.actions.setPartnerToRemove(partnerShortInfo));\n  };\n};\nexport const partnerToUpdate = partner => {\n  return dispatch => {\n    ApiServiceImpl.instance.updatePartner(partner).then(res => {\n      console.log(res);\n      window.location.href = \"/\";\n      dispatch(partnerSlice.actions.clearEditablePartner(null));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/rim1sta/Desktop/react-api-1/src/store/thunks/partner.ts"],"names":["partnerSlice","ApiServiceImpl","updatePage","pageIndex","dispatch","instance","getPartners","then","res","actions","setPageData","newPageIndex","pagesCount","setPageIndex","openPartnerForEdit","id","getPartner","setEditablePartner","partnerToDelete","partnerShortInfo","setPartnerToRemove","partnerToUpdate","partner","updatePartner","console","log","window","location","href","clearEditablePartner"],"mappings":"AAAA,SAASA,YAAT,QAA6B,qBAA7B;AAGA,SAASC,cAAT,QAA+B,yBAA/B;AAMA,OAAO,MAAMC,UAAU,GAAIC,SAAD,IAAuB;AAC7C,SAAQC,QAAD,IAAwB;AAC3BH,IAAAA,cAAc,CAACI,QAAf,CAAwBC,WAAxB,CAAoCH,SAApC,EAA+C,CAA/C,EAAkDI,IAAlD,CAAwDC,GAAD,IAAS;AAC5DJ,MAAAA,QAAQ,CAACJ,YAAY,CAACS,OAAb,CAAqBC,WAArB,CAAiCF,GAAjC,CAAD,CAAR;AACA,YAAMG,YAAoB,GAAGR,SAAS,IAAIK,GAAG,CAACI,UAAjB,GAA8BT,SAAS,GAAG,CAA1C,GAA8CA,SAA3E;AACEC,MAAAA,QAAQ,CAACJ,YAAY,CAACS,OAAb,CAAqBI,YAArB,CAAkCF,YAAlC,CAAD,CAAR;AACH,KAJH;AAMH,GAPD;AAQH,CATM;AAWP,OAAO,MAAMG,kBAAkB,GAAIC,EAAD,IAAgB;AAC9C,SAAQX,QAAD,IAAwB;AAC3BH,IAAAA,cAAc,CAACI,QAAf,CAAwBW,UAAxB,CAAmCD,EAAnC,EAAuCR,IAAvC,CAA6CC,GAAD,IAAS;AACjDJ,MAAAA,QAAQ,CAACJ,YAAY,CAACS,OAAb,CAAqBQ,kBAArB,CAAwCT,GAAxC,CAAD,CAAR;AACD,KAFH;AAGH,GAJD;AAKH,CANM;AAQP,OAAO,MAAMU,eAAe,GAAIC,gBAAD,IAA+C;AAC1E,SAAQf,QAAD,IAAwB;AAC5BA,IAAAA,QAAQ,CAACJ,YAAY,CAACS,OAAb,CAAqBW,kBAArB,CAAwCD,gBAAxC,CAAD,CAAR;AACF,GAFD;AAGH,CAJM;AAOP,OAAO,MAAME,eAAe,GAAIC,OAAD,IAAsB;AACjD,SAAQlB,QAAD,IAAwB;AAC3BH,IAAAA,cAAc,CAACI,QAAf,CAAwBkB,aAAxB,CAAsCD,OAAtC,EAA+Cf,IAA/C,CAAqDC,GAAD,IAAS;AACzDgB,MAAAA,OAAO,CAACC,GAAR,CAAYjB,GAAZ;AACAkB,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACAxB,MAAAA,QAAQ,CAACJ,YAAY,CAACS,OAAb,CAAqBoB,oBAArB,CAA0C,IAA1C,CAAD,CAAR;AACD,KAJH;AAMH,GAPD;AAQH,CATM","sourcesContent":["import { partnerSlice } from './../slices/partner';\nimport { PartnerShortInfo } from './../../api/domain/partner-short-info';\nimport { Partner } from './../../api/domain/partner';\nimport { ApiServiceImpl } from './../../api/api-service';\nimport { Dispatch } from \"@reduxjs/toolkit\";\n\n\n\n\nexport const updatePage = (pageIndex: number) => {\n    return (dispatch: Dispatch) => {\n        ApiServiceImpl.instance.getPartners(pageIndex, 5).then((res) => {\n            dispatch(partnerSlice.actions.setPageData(res))\n            const newPageIndex: number = pageIndex >= res.pagesCount ? pageIndex - 1 : pageIndex;\n              dispatch(partnerSlice.actions.setPageIndex(newPageIndex));\n          });\n        \n    }\n};\n\nexport const openPartnerForEdit = (id: string) => {\n    return (dispatch: Dispatch) => {\n        ApiServiceImpl.instance.getPartner(id).then((res) => {\n            dispatch(partnerSlice.actions.setEditablePartner(res));\n          });    \n    }\n};\n\nexport const partnerToDelete = (partnerShortInfo: PartnerShortInfo | null) => {\n    return (dispatch: Dispatch) => {\n       dispatch(partnerSlice.actions.setPartnerToRemove(partnerShortInfo));\n    }\n};\n\n\nexport const partnerToUpdate = (partner: Partner) => {\n    return (dispatch: Dispatch) => {\n        ApiServiceImpl.instance.updatePartner(partner).then((res) => {\n            console.log(res);\n            window.location.href = \"/\";\n            dispatch(partnerSlice.actions.clearEditablePartner(null));\n          });\n        \n    }\n};"]},"metadata":{},"sourceType":"module"}