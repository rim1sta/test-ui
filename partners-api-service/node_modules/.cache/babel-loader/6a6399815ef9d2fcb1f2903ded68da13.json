{"ast":null,"code":"import { partnerSlice } from './../slices/partner';\nimport { ApiServiceImpl } from './../../api/api-service';\nexport const updatePage = pageIndex => {\n  return async dispatch => {\n    const res = await ApiServiceImpl.instance.getPartners(pageIndex, 5);\n    dispatch(partnerSlice.actions.setPageData(res));\n    const newPageIndex = pageIndex >= res.pagesCount ? pageIndex - 1 : pageIndex;\n    dispatch(partnerSlice.actions.setPageIndex(newPageIndex));\n  };\n};\nexport const openPartnerForEdit = id => {\n  return async dispatch => {\n    const res = await ApiServiceImpl.instance.getPartner(id);\n    dispatch(partnerSlice.actions.setEditablePartner(res));\n  };\n};\nexport const partnerToDelete = partnerShortInfo => {\n  return dispatch => {\n    dispatch(partnerSlice.actions.setPartnerToRemove(partnerShortInfo));\n  };\n};\nexport const partnerToUpdate = partner => {\n  return async dispatch => {\n    const res = await ApiServiceImpl.instance.updatePartner(partner);\n    console.log(res);\n    window.location.href = \"/\";\n    dispatch(partnerSlice.actions.clearEditablePartner(null));\n  };\n};\nexport const partnerToCreate = partner => {\n  return async dispatch => {\n    const res = await ApiServiceImpl.instance.createPartner(partner);\n    console.log(res);\n    window.location.href = \"/\";\n  };\n};","map":{"version":3,"sources":["/Users/rim1sta/Desktop/react-api-1/src/store/thunks/partner.ts"],"names":["partnerSlice","ApiServiceImpl","updatePage","pageIndex","dispatch","res","instance","getPartners","actions","setPageData","newPageIndex","pagesCount","setPageIndex","openPartnerForEdit","id","getPartner","setEditablePartner","partnerToDelete","partnerShortInfo","setPartnerToRemove","partnerToUpdate","partner","updatePartner","console","log","window","location","href","clearEditablePartner","partnerToCreate","createPartner"],"mappings":"AAAA,SAASA,YAAT,QAA6B,qBAA7B;AAGA,SAASC,cAAT,QAA+B,yBAA/B;AAMA,OAAO,MAAMC,UAAU,GAAIC,SAAD,IAAuB;AAC7C,SAAO,MAAOC,QAAP,IAA8B;AACjC,UAAMC,GAAG,GAAG,MAAMJ,cAAc,CAACK,QAAf,CAAwBC,WAAxB,CAAoCJ,SAApC,EAA+C,CAA/C,CAAlB;AACIC,IAAAA,QAAQ,CAACJ,YAAY,CAACQ,OAAb,CAAqBC,WAArB,CAAiCJ,GAAjC,CAAD,CAAR;AACA,UAAMK,YAAoB,GAAGP,SAAS,IAAIE,GAAG,CAACM,UAAjB,GAA8BR,SAAS,GAAG,CAA1C,GAA8CA,SAA3E;AACEC,IAAAA,QAAQ,CAACJ,YAAY,CAACQ,OAAb,CAAqBI,YAArB,CAAkCF,YAAlC,CAAD,CAAR;AACT,GALD;AAMH,CAPM;AASP,OAAO,MAAMG,kBAAkB,GAAIC,EAAD,IAAgB;AAC9C,SAAO,MAAOV,QAAP,IAA8B;AACjC,UAAMC,GAAG,GAAG,MAAMJ,cAAc,CAACK,QAAf,CAAwBS,UAAxB,CAAmCD,EAAnC,CAAlB;AACIV,IAAAA,QAAQ,CAACJ,YAAY,CAACQ,OAAb,CAAqBQ,kBAArB,CAAwCX,GAAxC,CAAD,CAAR;AACP,GAHD;AAIH,CALM;AAOP,OAAO,MAAMY,eAAe,GAAIC,gBAAD,IAA+C;AAC1E,SAASd,QAAD,IAAwB;AAC7BA,IAAAA,QAAQ,CAACJ,YAAY,CAACQ,OAAb,CAAqBW,kBAArB,CAAwCD,gBAAxC,CAAD,CAAR;AACF,GAFD;AAGH,CAJM;AAOP,OAAO,MAAME,eAAe,GAAIC,OAAD,IAAsB;AACjD,SAAO,MAAOjB,QAAP,IAA8B;AACjC,UAAMC,GAAG,GAAG,MAAMJ,cAAc,CAACK,QAAf,CAAwBgB,aAAxB,CAAsCD,OAAtC,CAAlB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYnB,GAAZ;AACAoB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACAvB,IAAAA,QAAQ,CAACJ,YAAY,CAACQ,OAAb,CAAqBoB,oBAArB,CAA0C,IAA1C,CAAD,CAAR;AACH,GALD;AAMH,CAPM;AASP,OAAO,MAAMC,eAAe,GAAIR,OAAD,IAAsB;AACjD,SAAO,MAAOjB,QAAP,IAA8B;AACjC,UAAMC,GAAG,GAAG,MAAMJ,cAAc,CAACK,QAAf,CAAwBwB,aAAxB,CAAsCT,OAAtC,CAAlB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYnB,GAAZ;AACAoB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACH,GAJD;AAKH,CANM","sourcesContent":["import { partnerSlice } from './../slices/partner';\nimport { PartnerShortInfo } from './../../api/domain/partner-short-info';\nimport { Partner } from './../../api/domain/partner';\nimport { ApiServiceImpl } from './../../api/api-service';\nimport { Dispatch } from \"@reduxjs/toolkit\";\n\n\n\n\nexport const updatePage = (pageIndex: number) => {\n    return async (dispatch: Dispatch) => {\n        const res = await ApiServiceImpl.instance.getPartners(pageIndex, 5)\n            dispatch(partnerSlice.actions.setPageData(res))\n            const newPageIndex: number = pageIndex >= res.pagesCount ? pageIndex - 1 : pageIndex;\n              dispatch(partnerSlice.actions.setPageIndex(newPageIndex));        \n    }\n};\n\nexport const openPartnerForEdit = (id: string) => {\n    return async (dispatch: Dispatch) => {\n        const res = await ApiServiceImpl.instance.getPartner(id)\n            dispatch(partnerSlice.actions.setEditablePartner(res));\n    }\n};\n\nexport const partnerToDelete = (partnerShortInfo: PartnerShortInfo | null) => {\n    return  (dispatch: Dispatch) => {\n       dispatch(partnerSlice.actions.setPartnerToRemove(partnerShortInfo));\n    }\n};\n\n\nexport const partnerToUpdate = (partner: Partner) => {\n    return async (dispatch: Dispatch) => {\n        const res = await ApiServiceImpl.instance.updatePartner(partner);\n        console.log(res);\n        window.location.href = \"/\";\n        dispatch(partnerSlice.actions.clearEditablePartner(null));\n    }\n};\n\nexport const partnerToCreate = (partner: Partner) => {\n    return async (dispatch: Dispatch) => {\n        const res = await ApiServiceImpl.instance.createPartner(partner);\n        console.log(res);\n        window.location.href = \"/\";\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}